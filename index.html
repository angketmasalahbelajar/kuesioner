<html>
<head>
    <title>Pertanyaan Kuesioner</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container-fluid">
        <h4 class="text-center mb-4 mt-4 fw-bold">PERTANYAAN KUESIONER</h4>

        <form name="submit-to-google-sheet">
            <div class="question-card">
                
                <div class="mb-3">
                    <label for="name" class="form-label">Nama</label>
                    <input type="text" class="form-control" id="name" placeholder="Masukkan nama" name="nama" required>
                </div>
                <div class="mb-3">
                    <label for="class" class="form-label">Kelas</label>
                    <select class="form-select" name="kelas" required>
                        <option selected>PILIH KELAS KAMU</option>
                        <option value="X.1">X.1</option>
                        <option value="X.2">X.2</option>
                        <option value="X.3">X.3</option>
                        <option value="X.4">X.4</option>
                        <option value="X.5">X.5</option>
                        <option value="X.6">X.6</option>
                        <option value="X.7">X.7</option>
                        <option value="X.8">X.8</option>
                        <option value="XI.1">XI.1</option>
                        <option value="XI.2">XI.2</option>
                        <option value="XI.3">XI.3</option>
                        <option value="XI.4">XI.4</option>
                        <option value="XI.5">XI.5</option>
                        <option value="XI.6">XI.6</option>
                        <option value="XI.7">XI.7</option>
                        <option value="XI.8">XI.8</option>
                        <option value="XII.1">XII.1</option>
                        <option value="XII.2">XII.2</option>
                        <option value="XII.3">XII.3</option>
                        <option value="XII.4">XII.4</option>
                        <option value="XII.5">XII.5</option>
                        <option value="XII.6">XII.6</option>
                        <option value="XII.7">XII.7</option>
                        <option value="XII.8">XII.8</option>
                        <option value="XII.8">XII.9</option>
                        <option value="XII.8">XII.10</option>
                        <option value="XII.8">XII.11</option>
                        <option value="XII.8">XII.12</option>
                    </select>
                </div>
            </div>
            
            <div class="question-card">
                <h5>1/5 pertanyaan</h5>
                <p>Apakah Anda selalu bersemangat untuk belajar setiap hari?</p>
                <div class="btn-group">
                    <div class="form-check">
                        <input type="radio" id="q1-no" name="a1" value="tidak" checked>
                        <label for="q1-no">tidak</label>
                    </div>
                    <div class="form-check">
                        <input type="radio" id="q1-yes" name="a1" value="ya">
                        <label for="q1-yes">ya</label>
                    </div>
                </div>
            </div>
            
            <div class="question-card">
                <h5>2/5 pertanyaan</h5>
                <p>Apakah Anda sering menunda-nunda mengerjakan tugas sekolah?</p>
                <div class="btn-group">
                    <div class="form-check">
                        <input type="radio" id="q2-no" name="a2" value="tidak" checked>
                        <label for="q2-no">tidak</label>
                    </div>
                    <div class="form-check">
                        <input type="radio" id="q2-yes" name="a2" value="ya">
                        <label for="q2-yes">ya</label>
                    </div>
                </div>
            </div>
            
            <div class="question-card">
                <h5>3/5 pertanyaan</h5>
                <p>Apakah Anda belajar hanya untuk mendapatkan nilai baik, bukan karena ingin memahami materi?</p>
                <div class="btn-group">
                    <div class="form-check">
                        <input type="radio" id="q3-no" name="a3" value="tidak" checked>
                        <label for="q3-no">tidak</label>
                    </div>
                    <div class="form-check">
                        <input type="radio" id="q3-yes" name="a3" value="ya">
                        <label for="q3-yes">ya</label>
                    </div>
                </div>
            </div>
            
            <div class="question-card">
                <h5>4/5 pertanyaan</h5>
                <p>4. Apakah Anda sering merasa malas untuk belajar meskipun tahu ada tugas penting?</p>
                <div class="btn-group">
                    <div class="form-check">
                        <input type="radio" id="q4-no" name="a4" value="tidak" checked>
                        <label for="q4-no">tidak</label>
                    </div>
                    <div class="form-check">
                        <input type="radio" id="q4-yes" name="a4" value="ya">
                        <label for="q4-yes">ya</label>
                    </div>
                </div>
            </div>
            <div class="question-card">
                <h5>5/5 pertanyaan</h5>
                <p>Apakah Anda memiliki tujuan yang jelas dalam belajar?</p>
                <div class="btn-group">
                    <div class="form-check">
                        <input type="radio" id="q5-no" name="a5" value="tidak" checked>
                        <label for="q5-no">tidak</label>
                    </div>
                    <div class="form-check">
                        <input type="radio" id="q5-yes" name="a5" value="ya">
                        <label for="q5-yes">ya</label>
                    </div>
                </div>
            </div>
            <div class="" style="text-align: center;">
                <button class="btn btn-next mt-3 mb-4 mx-auto btn-kirim" type="submit">Selanjutnya</button>

                <button class="btn btn-next btn-loading d-none" type="button" disabled>
                    <span class="spinner-grow spinner-grow-sm" aria-hidden="true"></span>
                    <span role="status">Loading...</span>
                </button>
            </div>
        </form>

    </div>


<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbwVh04h3Y6-pPRGO1wLsvMVt6e8x7EorehOduzOsOT2t9F8Rzpc5G7LaD6BH0LE3CNk/exec'
    const form = document.forms['submit-to-google-sheet']
    const btnKirim = document.querySelector('.btn-kirim');
    const btnLoading = document.querySelector('.btn-loading');
    
    form.addEventListener('submit', e => {
        e.preventDefault()
        // ketika tombol submit di klik
        // tampilkan tombol loading hilangkan tombol kirim
        btnLoading.classList.toggle('d-none')
        btnKirim.classList.toggle('d-none')
        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
        .then(response => {
            btnLoading.classList.toggle('d-none')
            btnKirim.classList.toggle('d-none')
            Swal.fire({
                title: 'Berhasil ðŸ˜',
                text: 'Silahkan dilanjutkan',
                icon: 'success',
                confirmButtonText: 'lanjutkan'
            })

            form.reset()

            console.log('Success!', response)
        })
        .catch(error => console.error('Error!', error.message))
    })
</script>
</body>
</html>